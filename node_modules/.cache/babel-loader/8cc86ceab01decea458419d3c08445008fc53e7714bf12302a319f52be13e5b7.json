{"ast":null,"code":"import axios from'axios';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";function TelegramWebAppAuth(){useEffect(()=>{var _tg$initDataUnsafe;const tg=window.Telegram.WebApp;const user=(_tg$initDataUnsafe=tg.initDataUnsafe)===null||_tg$initDataUnsafe===void 0?void 0:_tg$initDataUnsafe.user;if(user){axios.post('http://localhost:5000/api/auth/telegram',user).then(res=>{console.log('Успішна авторизація:',res.data);localStorage.setItem('token',res.data.token);}).catch(err=>{console.error('Помилка авторизації:',err);});}else{console.error('Дані користувача Telegram WebApp недоступні');}},[]);return/*#__PURE__*/_jsx(\"div\",{children:\"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0456\\u044F \\u0447\\u0435\\u0440\\u0435\\u0437 Telegram WebApp...\"});}export default TelegramWebAppAuth;","map":{"version":3,"names":["axios","useEffect","jsx","_jsx","TelegramWebAppAuth","_tg$initDataUnsafe","tg","window","Telegram","WebApp","user","initDataUnsafe","post","then","res","console","log","data","localStorage","setItem","token","catch","err","error","children"],"sources":["/home/pacmen/Documents/GitHub/telegram-web-app/src/TelegramWebAppAuth.jsx"],"sourcesContent":["import axios from 'axios'\nimport { useEffect } from 'react'\n\nfunction TelegramWebAppAuth() {\n  useEffect(() => {\n    const tg = window.Telegram.WebApp\n\n    const user = tg.initDataUnsafe?.user\n\n    if (user) {\n      axios\n        .post('http://localhost:5000/api/auth/telegram', user)\n        .then((res) => {\n          console.log('Успішна авторизація:', res.data)\n          localStorage.setItem('token', res.data.token)\n        })\n        .catch((err) => {\n          console.error('Помилка авторизації:', err)\n        })\n    } else {\n      console.error('Дані користувача Telegram WebApp недоступні')\n    }\n  }, [])\n\n  return <div>Авторизація через Telegram WebApp...</div>\n}\n\nexport default TelegramWebAppAuth\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,OAAO,QAAAC,GAAA,IAAAC,IAAA,yBAEjC,QAAS,CAAAC,kBAAkBA,CAAA,CAAG,CAC5BH,SAAS,CAAC,IAAM,KAAAI,kBAAA,CACd,KAAM,CAAAC,EAAE,CAAGC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAEjC,KAAM,CAAAC,IAAI,EAAAL,kBAAA,CAAGC,EAAE,CAACK,cAAc,UAAAN,kBAAA,iBAAjBA,kBAAA,CAAmBK,IAAI,CAEpC,GAAIA,IAAI,CAAE,CACRV,KAAK,CACFY,IAAI,CAAC,yCAAyC,CAAEF,IAAI,CAAC,CACrDG,IAAI,CAAEC,GAAG,EAAK,CACbC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEF,GAAG,CAACG,IAAI,CAAC,CAC7CC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEL,GAAG,CAACG,IAAI,CAACG,KAAK,CAAC,CAC/C,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAK,CACdP,OAAO,CAACQ,KAAK,CAAC,sBAAsB,CAAED,GAAG,CAAC,CAC5C,CAAC,CAAC,CACN,CAAC,IAAM,CACLP,OAAO,CAACQ,KAAK,CAAC,6CAA6C,CAAC,CAC9D,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBAAOpB,IAAA,QAAAqB,QAAA,CAAK,sHAAoC,CAAK,CAAC,CACxD,CAEA,cAAe,CAAApB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}